{"ast":null,"code":"import { ethers } from \"ethers\";\nimport LotteryContract from \"./artifacts/contracts/Lottery.sol/Lottery.json\";\nimport { getSigner } from \"./web3\";\nconst contractAddress = \"YOUR_DEPLOYED_CONTRACT_ADDRESS\";\nexport const getContract = async () => {\n  const signer = await getSigner();\n  return new ethers.Contract(contractAddress, LotteryContract.abi, signer);\n};\nexport const startLottery = async ticketPrice => {\n  const contract = await getContract();\n  const tx = await contract.startLottery(ethers.parseEther(ticketPrice));\n  await tx.wait();\n};\nexport const endLottery = async lotteryId => {\n  const contract = await getContract();\n  const tx = await contract.endLottery(lotteryId);\n  await tx.wait();\n};\nexport const buyTicket = async (lotteryId, amount) => {\n  const contract = await getContract();\n  const tx = await contract.buyTicket(lotteryId, {\n    value: ethers.parseEther(amount)\n  });\n  await tx.wait();\n};\nexport const getAllLotteries = async () => {\n  const contract = await getContract();\n  return await contract.getAllLotteries();\n};","map":{"version":3,"names":["ethers","LotteryContract","getSigner","contractAddress","getContract","signer","Contract","abi","startLottery","ticketPrice","contract","tx","parseEther","wait","endLottery","lotteryId","buyTicket","amount","value","getAllLotteries"],"sources":["P:/mlsc/New folder/decentralized-identity-ui/src/contract.js"],"sourcesContent":["import { ethers } from \"ethers\";\r\nimport LotteryContract from \"./artifacts/contracts/Lottery.sol/Lottery.json\";\r\nimport { getSigner } from \"./web3\";\r\n\r\nconst contractAddress = \"YOUR_DEPLOYED_CONTRACT_ADDRESS\";\r\n\r\nexport const getContract = async () => {\r\n  const signer = await getSigner();\r\n  return new ethers.Contract(contractAddress, LotteryContract.abi, signer);\r\n};\r\n\r\nexport const startLottery = async (ticketPrice) => {\r\n  const contract = await getContract();\r\n  const tx = await contract.startLottery(ethers.parseEther(ticketPrice));\r\n  await tx.wait();\r\n};\r\n\r\nexport const endLottery = async (lotteryId) => {\r\n  const contract = await getContract();\r\n  const tx = await contract.endLottery(lotteryId);\r\n  await tx.wait();\r\n};\r\n\r\nexport const buyTicket = async (lotteryId, amount) => {\r\n  const contract = await getContract();\r\n  const tx = await contract.buyTicket(lotteryId, {\r\n    value: ethers.parseEther(amount),\r\n  });\r\n  await tx.wait();\r\n};\r\n\r\nexport const getAllLotteries = async () => {\r\n  const contract = await getContract();\r\n  return await contract.getAllLotteries();\r\n};\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,QAAQ;AAC/B,OAAOC,eAAe,MAAM,gDAAgD;AAC5E,SAASC,SAAS,QAAQ,QAAQ;AAElC,MAAMC,eAAe,GAAG,gCAAgC;AAExD,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACrC,MAAMC,MAAM,GAAG,MAAMH,SAAS,CAAC,CAAC;EAChC,OAAO,IAAIF,MAAM,CAACM,QAAQ,CAACH,eAAe,EAAEF,eAAe,CAACM,GAAG,EAAEF,MAAM,CAAC;AAC1E,CAAC;AAED,OAAO,MAAMG,YAAY,GAAG,MAAOC,WAAW,IAAK;EACjD,MAAMC,QAAQ,GAAG,MAAMN,WAAW,CAAC,CAAC;EACpC,MAAMO,EAAE,GAAG,MAAMD,QAAQ,CAACF,YAAY,CAACR,MAAM,CAACY,UAAU,CAACH,WAAW,CAAC,CAAC;EACtE,MAAME,EAAE,CAACE,IAAI,CAAC,CAAC;AACjB,CAAC;AAED,OAAO,MAAMC,UAAU,GAAG,MAAOC,SAAS,IAAK;EAC7C,MAAML,QAAQ,GAAG,MAAMN,WAAW,CAAC,CAAC;EACpC,MAAMO,EAAE,GAAG,MAAMD,QAAQ,CAACI,UAAU,CAACC,SAAS,CAAC;EAC/C,MAAMJ,EAAE,CAACE,IAAI,CAAC,CAAC;AACjB,CAAC;AAED,OAAO,MAAMG,SAAS,GAAG,MAAAA,CAAOD,SAAS,EAAEE,MAAM,KAAK;EACpD,MAAMP,QAAQ,GAAG,MAAMN,WAAW,CAAC,CAAC;EACpC,MAAMO,EAAE,GAAG,MAAMD,QAAQ,CAACM,SAAS,CAACD,SAAS,EAAE;IAC7CG,KAAK,EAAElB,MAAM,CAACY,UAAU,CAACK,MAAM;EACjC,CAAC,CAAC;EACF,MAAMN,EAAE,CAACE,IAAI,CAAC,CAAC;AACjB,CAAC;AAED,OAAO,MAAMM,eAAe,GAAG,MAAAA,CAAA,KAAY;EACzC,MAAMT,QAAQ,GAAG,MAAMN,WAAW,CAAC,CAAC;EACpC,OAAO,MAAMM,QAAQ,CAACS,eAAe,CAAC,CAAC;AACzC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}