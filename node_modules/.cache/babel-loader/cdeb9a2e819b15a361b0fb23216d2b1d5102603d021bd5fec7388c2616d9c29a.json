{"ast":null,"code":"import { BrowserProvider } from \"ethers\";\nexport const connectWallet = async (skipPermissionRequest = false) => {\n  try {\n    if (!window.ethereum) {\n      alert(\"Please install Metamask!\");\n      return null;\n    }\n    const provider = new BrowserProvider(window.ethereum);\n\n    // Only request permissions if explicitly needed\n    if (!skipPermissionRequest) {\n      await window.ethereum.request({\n        method: \"wallet_requestPermissions\",\n        params: [{\n          eth_accounts: {}\n        }]\n      });\n    }\n    const accounts = await window.ethereum.request({\n      method: \"eth_requestAccounts\"\n    });\n    const signer = await provider.getSigner();\n    return {\n      signer,\n      address: accounts[0]\n    };\n  } catch (error) {\n    console.error(\"Wallet connection error:\", error);\n    return null;\n  }\n};","map":{"version":3,"names":["BrowserProvider","connectWallet","skipPermissionRequest","window","ethereum","alert","provider","request","method","params","eth_accounts","accounts","signer","getSigner","address","error","console"],"sources":["C:/Users/puinj/OneDrive/Desktop/coh25/decentralized-identity-ui/src/utils/web3.js"],"sourcesContent":["import { BrowserProvider } from \"ethers\";\r\n\r\nexport const connectWallet = async (skipPermissionRequest = false) => {\r\n  try {\r\n    if (!window.ethereum) {\r\n      alert(\"Please install Metamask!\");\r\n      return null;\r\n    }\r\n\r\n    const provider = new BrowserProvider(window.ethereum);\r\n    \r\n    // Only request permissions if explicitly needed\r\n    if (!skipPermissionRequest) {\r\n      await window.ethereum.request({\r\n        method: \"wallet_requestPermissions\",\r\n        params: [{ eth_accounts: {} }],\r\n      });\r\n    }\r\n\r\n    const accounts = await window.ethereum.request({\r\n      method: \"eth_requestAccounts\",\r\n    });\r\n\r\n    const signer = await provider.getSigner();\r\n    return {\r\n      signer,\r\n      address: accounts[0],\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Wallet connection error:\", error);\r\n    return null;\r\n  }\r\n};"],"mappings":"AAAA,SAASA,eAAe,QAAQ,QAAQ;AAExC,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,qBAAqB,GAAG,KAAK,KAAK;EACpE,IAAI;IACF,IAAI,CAACC,MAAM,CAACC,QAAQ,EAAE;MACpBC,KAAK,CAAC,0BAA0B,CAAC;MACjC,OAAO,IAAI;IACb;IAEA,MAAMC,QAAQ,GAAG,IAAIN,eAAe,CAACG,MAAM,CAACC,QAAQ,CAAC;;IAErD;IACA,IAAI,CAACF,qBAAqB,EAAE;MAC1B,MAAMC,MAAM,CAACC,QAAQ,CAACG,OAAO,CAAC;QAC5BC,MAAM,EAAE,2BAA2B;QACnCC,MAAM,EAAE,CAAC;UAAEC,YAAY,EAAE,CAAC;QAAE,CAAC;MAC/B,CAAC,CAAC;IACJ;IAEA,MAAMC,QAAQ,GAAG,MAAMR,MAAM,CAACC,QAAQ,CAACG,OAAO,CAAC;MAC7CC,MAAM,EAAE;IACV,CAAC,CAAC;IAEF,MAAMI,MAAM,GAAG,MAAMN,QAAQ,CAACO,SAAS,CAAC,CAAC;IACzC,OAAO;MACLD,MAAM;MACNE,OAAO,EAAEH,QAAQ,CAAC,CAAC;IACrB,CAAC;EACH,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}